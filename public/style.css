:root { --border:#ddd; --ink:#111; --muted:#666; }

body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 20px; }
main { max-width: 980px; margin: 0 auto; }
h1 { margin: 0 0 8px; font-size: 1.4rem; }

.controls { display: grid; gap: 12px; margin: 12px 0 16px; }
.group { display: grid; gap: 6px; }
.group-label { font-weight: 600; color: var(--ink); }
.checks { display: flex; flex-wrap: wrap; gap: 12px 16px; }
.controls label { display: inline-flex; gap: 6px; align-items: center; }
.row { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; }

.canvas-wrap { border: 1px solid var(--border); padding: 8px; background: #f8f8f8; max-height: 70vh; overflow: auto; }
canvas { width: 620px; height: 878px; image-rendering: optimizeQuality; }

#targets { margin-top: 12px; }
.hint { color: var(--muted); }
.error { color: #b00; }
/* Error modal */
.modal.hidden { display: none; }
.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,.45);
  display: grid; place-items: center; z-index: 9999;
}
.modal-card {
  width: min(520px, 90vw);
  background: #fff; border-radius: 12px; padding: 20px 20px 16px;
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
  border: 1px solid var(--border);
}
.modal-card h2 { margin: 0 0 8px; font-size: 1.1rem; }
.modal-card p  { margin: 0 0 14px; color: var(--muted); }
.modal-actions { display: flex; justify-content: flex-end; gap: 8px; }
.modal-actions button {
  appearance: none; border: 1px solid var(--border); border-radius: 8px;
  padding: 8px 12px; background: #f5f5f5; cursor: pointer;
}
.modal-actions button:hover { background: #eee; }

/* Phoneme filters */
.filter-block { margin: 1rem 0; }
.phoneme-controls { display: flex; gap: .5rem; margin-bottom: .5rem; }
.btn-mini { font-size: .85rem; padding: .25rem .6rem; border: 1px solid #ccc; border-radius: 6px; background: #f8f8f8; cursor: pointer; }
.btn-mini:hover { background: #f0f0f0; }

.phoneme-grid { display: grid; grid-template-columns: 1fr; gap: .75rem; }
.phoneme-group h4 { margin: .25rem 0; font-size: .95rem; font-weight: 600; }
.phoneme-list { display: flex; flex-wrap: wrap; gap: .5rem .6rem; }

.phoneme-chip { display: inline-flex; align-items: center; gap: .35rem; padding: .25rem .5rem; border: 1px solid #ddd; border-radius: 999px; background: #fff; cursor: pointer; }
.phoneme-chip input { transform: translateY(1px); }
.phoneme-chip span { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: .9rem; }
.hint { color: #666; font-size: .85rem; margin-top: .35rem; }


/* Force phoneme checkboxes to be visible even if a global rule hides them */
.phoneme-chip input[type="checkbox"] {
  display: inline-block !important;
  appearance: auto !important;
  width: auto !important;
  height: auto !important;
  position: static !important;
  opacity: 1 !important;
  margin: 0 4px 0 0;
}
